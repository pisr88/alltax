const burgerBtn=document.querySelector(".hamburger"),nav=document.querySelector(".nav__list"),navItem=document.querySelectorAll(".nav__item"),navLink=document.querySelectorAll(".nav__item-link"),footerYear=document.querySelector(".footer__year"),username=document.querySelector("#username"),email=document.querySelector("#email"),sendBtn=document.querySelector(".send"),errorText=document.querySelector(".error-text");let map;const showNav=()=>{burgerBtn.classList.toggle("is-active"),nav.classList.toggle("show-nav"),navItem.forEach(t=>{t.classList.toggle("show-nav")}),nav.classList.contains("active")&&(navItem.forEach(t=>{t.classList.toggle("hide-nav")}),nav.classList.toggle("hide-nav")),nav.classList.add("active")},imageArr=(burgerBtn.addEventListener("click",showNav),["./dist/img/user1.jpg","./dist/img/user2.jpg","./dist/img/user3.jpg"]);class Slider{constructor(t){this.images=t,this.slider=null,this.btnPrev=null,this.btnNext=null,this.img=null,this.name=null,this.position=null,this.actualImg=0,this.textSlide=["Jank Kowalski","Anna Nowak","Anna Ptak"],this.textPosition=["Prezes","Główna Księgowa","Główna Księgowa"],this.UIelements={btnPrev:"[data-btn-prev]",btnNext:"[data-btn-next]",slider:"[data-slider]"}}createSlider(){this.slider=document.querySelector(this.UIelements.slider),this.btnPrev=document.querySelector(this.UIelements.btnPrev),this.btnNext=document.querySelector(this.UIelements.btnNext),this.img=document.createElement("img"),this.img.setAttribute("src",this.images[this.actualImg]),this.img.classList.add("slider__img"),this.slider.append(this.img),this.name=document.createElement("p"),this.name.textContent=this.textSlide[this.actualImg],this.name.classList.add("slider__name"),this.slider.append(this.name),this.position=document.createElement("p"),this.position.textContent=this.textPosition[this.actualImg],this.position.classList.add("slider__position"),this.slider.append(this.position),this.addLisener()}changeSlider(t){t<0&&(this.img.setAttribute("src",this.images[imageArr.length-1]),this.img.setAttribute("alt",this.textSlide[imageArr.length-1]),this.name.textContent=this.textSlide[imageArr.length-1],this.position.textContent=this.textPosition[imageArr.length-1],this.actualImg=imageArr.length-1),t>imageArr.length-1&&(this.img.setAttribute("src",this.images[0]),this.img.setAttribute("alt",this.textSlide[0]),this.name.textContent=this.textSlide[0],this.position.textContent=this.textPosition[0],this.actualImg=0),0<=t&&t<imageArr.length&&(this.img.setAttribute("src",this.images[t]),this.img.setAttribute("alt",this.textSlide[t]),this.name.textContent=this.textSlide[t],this.position.textContent=this.textPosition[t],this.actualImg=t)}addLisener(){this.btnPrev.addEventListener("click",()=>{this.img.animate([{opacity:0}],{duration:300,fill:"forwards"}),setTimeout(()=>{this.changeSlider(this.actualImg-1)},300),this.img.animate([{opacity:1}],{delay:300,duration:1e3,fill:"forwards"})}),this.btnNext.addEventListener("click",()=>{this.img.animate([{opacity:0}],{duration:300,fill:"forwards"}),setTimeout(()=>{this.changeSlider(this.actualImg+1)},300),this.img.animate([{opacity:1}],{delay:300,duration:1e3,fill:"forwards"})})}}const slider=new Slider(imageArr),handleCurrentYear=(document.querySelector("[data-slider]")&&(slider.createSlider(),navLink.forEach(t=>{t.addEventListener("click",showNav)})),()=>{var t=(new Date).getFullYear();footerYear.innerText=t});async function getOffers(){await fetch("https://api-eu-central-1.graphcms.com/v2/cl1qea3851j6901z76wz6foyx/master",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:`
                    query {
                    offers {
                        name
                        scope
                        conditions
						price
                    }
                    }
                `})}).then(t=>t.ok?t.json():Promise.reject(response)).then(t=>{arr=t.data.offers;let s="",e=(arr.forEach(t=>{let e=t.scope.split("\n"),i=t.conditions.split("\n");e=e.map(t=>`<li class="pricelist__item-list-item">${t}</li>`),i=i.map(t=>`<li class="pricelist__item-list-item">${t}</li>`);t=`<div class="pricelist__item-body">
				<h3 class="pricelist__item-title">${t.name}</h3>
				<p class="pricelist__item-price">${t.price}</p>
				<p class="pricelist__item-scope">Zakres</p>
				<ul class="pricelist__item-list">${e.join().replaceAll(",","")}</ul> 
				<p class="pricelist__item-conditions">Warunki</p>
					<ul class="pricelist__item-list">${i.join().replaceAll(",","")}</ul>
				</div>`;s+=t}),document.querySelector(".pricelist__list"));e.innerHTML=s})}handleCurrentYear(),document.querySelector("[data-pricelist]")&&getOffers();const showError=(t,e)=>{const i=t.parentElement,s=i.querySelector(".error-text");i.classList.add("error"),s.textContent=e},clearError=t=>{const e=t.parentElement;e.classList.remove("error")},checkForm=t=>{t.forEach(t=>{(""===t.value?showError:clearError)(t)})},checkLength=(t,e)=>{t.value.length<e&&showError(t,"Podaj dłuższe imię")},checkEmail=t=>{/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.value)?clearError(t):showError(t,"E-mail jest niepoprawny")},checkErrors=()=>{const t=document.querySelectorAll(".contact__box");let e=0;t.forEach(t=>{t.classList.contains("error")&&e++})};async function initMap(){var t={lat:50.242978496574814,lng:18.842479792595157};map=new google.maps.Map(document.getElementById("map"),{center:t,zoom:15,zoomControl:!0,mapTypeControl:!0,scaleControl:!0,streetViewControl:!0,rotateControl:!0,fullscreenControl:!0});const e=new google.maps.Marker({position:t,map:map,animation:google.maps.Animation.DROP,title:"AllTax"});e.addListener("click",()=>{i.open(map,e)});const i=new google.maps.InfoWindow({content:'<div id="content"><div id="siteNotice"></div><h2 id="firstHeading" class="firstHeading">Alltax</h2><div id="bodyContent"><p>ul. Kłodnicka 97/301</p><p>41-706 Ruda Śląska<br>Polska</p><a href=https://www.google.com/maps/place/Biuro+Rachunkowe+Alltax/@50.2426541,18.8426967,18.12z/data=!4m5!3m4!1s0x0:0x3dbd92a7198b7ace!8m2!3d50.2426217!4d18.8427802>Zobacz w Mapach Google</a> </div></div>'})}if(document.querySelector([".contact__form"])&&sendBtn.addEventListener("click",t=>{t.preventDefault(),checkForm([username,email]),checkLength(username,3),checkEmail(email),checkErrors()}),document.querySelector("[data-contact]")){const K=document.querySelector(".footer__contact");K.style.display="none"}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYnVyZ2VyQnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibmF2IiwibmF2SXRlbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJuYXZMaW5rIiwiZm9vdGVyWWVhciIsInVzZXJuYW1lIiwiZW1haWwiLCJzZW5kQnRuIiwiZXJyb3JUZXh0IiwibGV0IiwibWFwIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiZm9yRWFjaCIsImVsIiwiY29udGFpbnMiLCJhZGQiLCJpbWFnZUFyciIsImFkZEV2ZW50TGlzdGVuZXIiLCJzaG93TmF2IiwiU2xpZGVyIiwiY29uc3RydWN0b3IiLCJpbWFnZXMiLCJ0aGlzIiwic2xpZGVyIiwiYnRuUHJldiIsImJ0bk5leHQiLCJpbWciLCJuYW1lIiwicG9zaXRpb24iLCJhY3R1YWxJbWciLCJ0ZXh0U2xpZGUiLCJ0ZXh0UG9zaXRpb24iLCJjcmVhdGVTbGlkZXIiLCJVSWVsZW1lbnRzIiwiY3JlYXRlRWxlbWVudCIsInRleHRDb250ZW50IiwiYXBwZW5kIiwiY2hhbmdlU2xpZGVyIiwiaW5kZXgiLCJhZGRMaXNlbmVyIiwic2V0QXR0cmlidXRlIiwibGVuZ3RoIiwib3BhY2l0eSIsInNldFRpbWVvdXQiLCJhbmltYXRlIiwiZHVyYXRpb24iLCJmaWxsIiwiZGVsYXkiLCJoYW5kbGVDdXJyZW50WWVhciIsInllYXIiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJpbm5lclRleHQiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJDb250ZW50LVR5cGUiLCJBY2NlcHQiLCJxdWVyeSIsImJvZHkiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0IiwicmVzcG9uc2UiLCJ0aGVuIiwiYXJyIiwiZGF0YSIsIm9mZmVycyIsImh0bWxCb3giLCJuZXdDb25kaXRpb25zIiwibmV3U2NvcGUiLCJzY29wZSIsInNwbGl0IiwiY29uZGl0aW9ucyIsInByaWNlIiwiam9pbiIsInJlcGxhY2VBbGwiLCJjb250YWluZXIiLCJodG1sRWwiLCJnZXRPZmZlcnMiLCJzaG93RXJyb3IiLCJpbnB1dCIsIm1zZyIsImlubmVySFRNTCIsInBhcmVudEVsZW1lbnQiLCJlcnJvck1zZyIsImZvcm1Cb3giLCJjbGVhckVycm9yIiwiY2hlY2tGb3JtIiwicmVtb3ZlIiwiY2hlY2tMZW5ndGgiLCJtaW4iLCJ2YWx1ZSIsImNoZWNrRW1haWwiLCJyZSIsImNoZWNrRXJyb3JzIiwiZXJyb3JDb3VudCIsImFsbElucHV0cyIsInN0cmVldFZpZXdDb250cm9sIiwicm90YXRlQ29udHJvbCIsImZ1bGxzY3JlZW5Db250cm9sIiwibG5nIiwiZ29vZ2xlIiwibWFwcyIsIk1hcCIsImdldEVsZW1lbnRCeUlkIiwiYW5pbWF0aW9uIiwidGl0bGUiLCJ6b29tQ29udHJvbCIsIm1hcmtlciIsImFkZExpc3RlbmVyIiwiaW5mb3dpbmRvdyIsIm9wZW4iLCJjb250ZW50U3RyaW5nIiwiTWFya2VyIiwibXlMYXRMbmciLCJmb290ZXJDb250YWN0IiwiSW5mb1dpbmRvdyIsImNvbnRlbnQiLCJlIiwicHJldmVudERlZmF1bHQiLCJzdHlsZSIsImRpc3BsYXkiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFVBQVlDLFNBQVNDLGNBQWMsY0FDbkNDLElBQU1GLFNBQVNDLGNBQWMsY0FDN0JFLFFBQVVILFNBQVNJLGlCQUFpQixjQUNwQ0MsUUFBVUwsU0FBU0ksaUJBQWlCLG1CQUNwQ0UsV0FBYU4sU0FBU0MsY0FBYyxpQkFDcENNLFNBQVdQLFNBQVNDLGNBQWMsYUFDbENPLE1BQVFSLFNBQVNDLGNBQWMsVUFDL0JRLFFBQVVULFNBQVNDLGNBQWMsU0FDakNTLFVBQVlWLFNBQVNDLGNBQWMsZUFFekNVLElBQUlDLElBR0hiLE1BQUFBLFFBQVVjLEtBQ1ZYLFVBQUlXLFVBQVVDLE9BQU8sYUFDckJYLElBQUFBLFVBQVFZLE9BQVUsWUFDakJDLFFBQUdILFFBQVVDLElBQ2JFLEVBRkRILFVBQUFDLE9BQUEsY0FLQ1gsSUFBQUEsVUFBQWMsU0FB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TkMsY0FBV0MsRUFDWGQsbUJBRkQsRUFHQUMsZUFBTWMsRUFXTmIsbUJBQW1CLElBR25CLE1BQUFTLEVBQUEsSUFBQVAsT0FBQUMsS0FBQVcsT0FBQSxDQXZCQ3hGLFNBQVV5RixFQTBCWjVHLElBQUFBLElBQ0NtRyxVQUFNVSxPQUFBQSxLQUFnQnpILFVBQVNDLEtBQy9Cd0gsTUFBQUEsV0F0QkFQLEVBQU9DLFlBQVksUUFBUyxLQUMzQkMsRUFBV0MsS0FBS3pHLElBQUtzRyxLQWF0QixNQUFNRSxFQUFhLElBQUlULE9BQU9DLEtBQUtjLFdBQVcsQ0FDN0NDLFFBWEEsd1lBZ0JGLEdBaEVBbEgsU0FBUVcsY0FBUixDQUF5QixvQkFHckJ3RyxRQUFFQyxpQkFBRixRQUFBRCxJQUdBMUIsRUFBQUEsaUJBQ0FFLFVBQUFBLENBQVc3RixTQUFBQyxRQVBmdUYsWUFBQXhGLFNBQUEsR0FrQkEyRixXQUFBMUYsT0FYSTRGLGdCQXlEQXBHLFNBQVNDLGNBQWMsa0JBQWtCLENBQzVDLE1BQU13SCxFQUFnQnpILFNBQVNDLGNBQWMsb0JBQzdDd0gsRUFBY0ssTUFBTUMsUUFBVSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGJ1cmdlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oYW1idXJnZXInKVxyXG5jb25zdCBuYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X19saXN0JylcclxuY29uc3QgbmF2SXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZfX2l0ZW0nKVxyXG5jb25zdCBuYXZMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdl9faXRlbS1saW5rJylcclxuY29uc3QgZm9vdGVyWWVhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb290ZXJfX3llYXInKVxyXG5jb25zdCB1c2VybmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1c2VybmFtZScpXHJcbmNvbnN0IGVtYWlsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2VtYWlsJylcclxuY29uc3Qgc2VuZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZW5kJylcclxuY29uc3QgZXJyb3JUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVycm9yLXRleHQnKVxyXG5cclxubGV0IG1hcFxyXG5cclxuY29uc3Qgc2hvd05hdiA9ICgpID0+IHtcclxuXHRidXJnZXJCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJylcclxuXHRuYXYuY2xhc3NMaXN0LnRvZ2dsZSgnc2hvdy1uYXYnKVxyXG5cdG5hdkl0ZW0uZm9yRWFjaChlbCA9PiB7XHJcblx0XHRlbC5jbGFzc0xpc3QudG9nZ2xlKCdzaG93LW5hdicpXHJcblx0fSlcclxuXHJcblx0aWYgKG5hdi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcblx0XHRuYXZJdGVtLmZvckVhY2goZWwgPT4ge1xyXG5cdFx0XHRlbC5jbGFzc0xpc3QudG9nZ2xlKCdoaWRlLW5hdicpXHJcblx0XHR9KVxyXG5cdFx0bmF2LmNsYXNzTGlzdC50b2dnbGUoJ2hpZGUtbmF2JylcclxuXHR9XHJcblx0bmF2LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbn1cclxuXHJcbmJ1cmdlckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNob3dOYXYpXHJcblxyXG4vL1NMSURFUlxyXG5jb25zdCBpbWFnZUFyciA9IFsnLi9kaXN0L2ltZy91c2VyMS5qcGcnLCAnLi9kaXN0L2ltZy91c2VyMi5qcGcnLCAnLi9kaXN0L2ltZy91c2VyMy5qcGcnXVxyXG5jbGFzcyBTbGlkZXIge1xyXG5cdGNvbnN0cnVjdG9yKGltYWdlcykge1xyXG5cdFx0dGhpcy5pbWFnZXMgPSBpbWFnZXNcclxuXHRcdHRoaXMuc2xpZGVyID0gbnVsbFxyXG5cdFx0dGhpcy5idG5QcmV2ID0gbnVsbFxyXG5cdFx0dGhpcy5idG5OZXh0ID0gbnVsbFxyXG5cdFx0dGhpcy5pbWcgPSBudWxsXHJcblx0XHR0aGlzLm5hbWUgPSBudWxsXHJcblx0XHR0aGlzLnBvc2l0aW9uID0gbnVsbFxyXG5cdFx0dGhpcy5hY3R1YWxJbWcgPSAwXHJcblx0XHR0aGlzLnRleHRTbGlkZSA9IFsnSmFuayBLb3dhbHNraScsICdBbm5hIE5vd2FrJywgJ0FubmEgUHRhayddXHJcblx0XHR0aGlzLnRleHRQb3NpdGlvbiA9IFsnUHJlemVzJywgJ0fFgsOzd25hIEtzacSZZ293YScsICdHxYLDs3duYSBLc2nEmWdvd2EnXVxyXG5cclxuXHRcdHRoaXMuVUllbGVtZW50cyA9IHtcclxuXHRcdFx0YnRuUHJldjogJ1tkYXRhLWJ0bi1wcmV2XScsXHJcblx0XHRcdGJ0bk5leHQ6ICdbZGF0YS1idG4tbmV4dF0nLFxyXG5cdFx0XHRzbGlkZXI6ICdbZGF0YS1zbGlkZXJdJyxcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGNyZWF0ZVNsaWRlcigpIHtcclxuXHRcdHRoaXMuc2xpZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLlVJZWxlbWVudHMuc2xpZGVyKVxyXG5cdFx0dGhpcy5idG5QcmV2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLlVJZWxlbWVudHMuYnRuUHJldilcclxuXHRcdHRoaXMuYnRuTmV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5VSWVsZW1lbnRzLmJ0bk5leHQpXHJcblxyXG5cdFx0dGhpcy5pbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKVxyXG5cdFx0dGhpcy5pbWcuc2V0QXR0cmlidXRlKCdzcmMnLCB0aGlzLmltYWdlc1t0aGlzLmFjdHVhbEltZ10pXHJcblx0XHR0aGlzLmltZy5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX2ltZycpXHJcblx0XHR0aGlzLnNsaWRlci5hcHBlbmQodGhpcy5pbWcpXHJcblxyXG5cdFx0dGhpcy5uYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXHJcblx0XHR0aGlzLm5hbWUudGV4dENvbnRlbnQgPSB0aGlzLnRleHRTbGlkZVt0aGlzLmFjdHVhbEltZ11cclxuXHRcdHRoaXMubmFtZS5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX25hbWUnKVxyXG5cclxuXHRcdHRoaXMuc2xpZGVyLmFwcGVuZCh0aGlzLm5hbWUpXHJcblxyXG5cdFx0dGhpcy5wb3NpdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxyXG5cdFx0dGhpcy5wb3NpdGlvbi50ZXh0Q29udGVudCA9IHRoaXMudGV4dFBvc2l0aW9uW3RoaXMuYWN0dWFsSW1nXVxyXG5cdFx0dGhpcy5wb3NpdGlvbi5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX3Bvc2l0aW9uJylcclxuXHRcdHRoaXMuc2xpZGVyLmFwcGVuZCh0aGlzLnBvc2l0aW9uKVxyXG5cclxuXHRcdHRoaXMuYWRkTGlzZW5lcigpXHJcblx0fVxyXG5cclxuXHRjaGFuZ2VTbGlkZXIoaW5kZXgpIHtcclxuXHRcdGlmIChpbmRleCA8IDApIHtcclxuXHRcdFx0dGhpcy5pbWcuc2V0QXR0cmlidXRlKCdzcmMnLCB0aGlzLmltYWdlc1tpbWFnZUFyci5sZW5ndGggLSAxXSlcclxuXHRcdFx0dGhpcy5pbWcuc2V0QXR0cmlidXRlKCdhbHQnLCB0aGlzLnRleHRTbGlkZVtpbWFnZUFyci5sZW5ndGggLSAxXSlcclxuXHRcdFx0dGhpcy5uYW1lLnRleHRDb250ZW50ID0gdGhpcy50ZXh0U2xpZGVbaW1hZ2VBcnIubGVuZ3RoIC0gMV1cclxuXHRcdFx0dGhpcy5wb3NpdGlvbi50ZXh0Q29udGVudCA9IHRoaXMudGV4dFBvc2l0aW9uW2ltYWdlQXJyLmxlbmd0aCAtIDFdXHJcblxyXG5cdFx0XHR0aGlzLmFjdHVhbEltZyA9IGltYWdlQXJyLmxlbmd0aCAtIDFcclxuXHRcdH1cclxuXHRcdGlmIChpbmRleCA+IGltYWdlQXJyLmxlbmd0aCAtIDEpIHtcclxuXHRcdFx0dGhpcy5pbWcuc2V0QXR0cmlidXRlKCdzcmMnLCB0aGlzLmltYWdlc1swXSlcclxuXHRcdFx0dGhpcy5pbWcuc2V0QXR0cmlidXRlKCdhbHQnLCB0aGlzLnRleHRTbGlkZVswXSlcclxuXHRcdFx0dGhpcy5uYW1lLnRleHRDb250ZW50ID0gdGhpcy50ZXh0U2xpZGVbMF1cclxuXHRcdFx0dGhpcy5wb3NpdGlvbi50ZXh0Q29udGVudCA9IHRoaXMudGV4dFBvc2l0aW9uWzBdXHJcblxyXG5cdFx0XHR0aGlzLmFjdHVhbEltZyA9IDBcclxuXHRcdH1cclxuXHRcdGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgaW1hZ2VBcnIubGVuZ3RoKSB7XHJcblx0XHRcdHRoaXMuaW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgdGhpcy5pbWFnZXNbaW5kZXhdKVxyXG5cdFx0XHR0aGlzLmltZy5zZXRBdHRyaWJ1dGUoJ2FsdCcsIHRoaXMudGV4dFNsaWRlW2luZGV4XSlcclxuXHRcdFx0dGhpcy5uYW1lLnRleHRDb250ZW50ID0gdGhpcy50ZXh0U2xpZGVbaW5kZXhdXHJcblx0XHRcdHRoaXMucG9zaXRpb24udGV4dENvbnRlbnQgPSB0aGlzLnRleHRQb3NpdGlvbltpbmRleF1cclxuXHJcblx0XHRcdHRoaXMuYWN0dWFsSW1nID0gaW5kZXhcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFkZExpc2VuZXIoKSB7XHJcblx0XHR0aGlzLmJ0blByZXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdHRoaXMuaW1nLmFuaW1hdGUoW3sgb3BhY2l0eTogMCB9XSwgeyBkdXJhdGlvbjogMzAwLCBmaWxsOiAnZm9yd2FyZHMnIH0pXHJcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuY2hhbmdlU2xpZGVyKHRoaXMuYWN0dWFsSW1nIC0gMSlcclxuXHRcdFx0fSwgMzAwKVxyXG5cdFx0XHR0aGlzLmltZy5hbmltYXRlKFt7IG9wYWNpdHk6IDEgfV0sIHsgZGVsYXk6IDMwMCwgZHVyYXRpb246IDEwMDAsIGZpbGw6ICdmb3J3YXJkcycgfSlcclxuXHRcdH0pXHJcblx0XHR0aGlzLmJ0bk5leHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdHRoaXMuaW1nLmFuaW1hdGUoW3sgb3BhY2l0eTogMCB9XSwgeyBkdXJhdGlvbjogMzAwLCBmaWxsOiAnZm9yd2FyZHMnIH0pXHJcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuY2hhbmdlU2xpZGVyKHRoaXMuYWN0dWFsSW1nICsgMSlcclxuXHRcdFx0fSwgMzAwKVxyXG5cdFx0XHR0aGlzLmltZy5hbmltYXRlKFt7IG9wYWNpdHk6IDEgfV0sIHsgZGVsYXk6IDMwMCwgZHVyYXRpb246IDEwMDAsIGZpbGw6ICdmb3J3YXJkcycgfSlcclxuXHRcdH0pXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBzbGlkZXIgPSBuZXcgU2xpZGVyKGltYWdlQXJyKVxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2xpZGVyXScpKSB7XHJcblx0c2xpZGVyLmNyZWF0ZVNsaWRlcigpXHJcbiAgXHJcbm5hdkxpbmsuZm9yRWFjaChlbCA9PiB7XHJcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNob3dOYXYpXHJcbn0pXHJcbn1cclxuXHJcbi8vRk9PVEVSXHJcblxyXG5jb25zdCBoYW5kbGVDdXJyZW50WWVhciA9ICgpID0+IHtcclxuXHRjb25zdCB5ZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpXHJcblx0Zm9vdGVyWWVhci5pbm5lclRleHQgPSB5ZWFyXHJcbn1cclxuXHJcbmhhbmRsZUN1cnJlbnRZZWFyKClcclxuXHJcbi8vIFByaWNlbGlzdFxyXG4vLyBQcmljZWxpc3QgLSBBUEkgZm9ybSBDTVNcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldE9mZmVycygpIHtcclxuXHRhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGktZXUtY2VudHJhbC0xLmdyYXBoY21zLmNvbS92Mi9jbDFxZWEzODUxajY5MDF6NzZ3ejZmb3l4L21hc3RlcicsIHtcclxuXHRcdG1ldGhvZDogJ1BPU1QnLFxyXG5cdFx0aGVhZGVyczoge1xyXG5cdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG5cdFx0XHRBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuXHRcdH0sXHJcblx0XHRib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcblx0XHRcdHF1ZXJ5OiBgXHJcbiAgICAgICAgICAgICAgICAgICAgcXVlcnkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9mZmVycyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uc1xyXG5cdFx0XHRcdFx0XHRwcmljZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBgLFxyXG5cdFx0fSksXHJcblx0fSlcclxuXHRcdC50aGVuKHJlcyA9PiB7XHJcblx0XHRcdGlmICghcmVzLm9rKSByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVzcG9uc2UpXHJcblx0XHRcdHJldHVybiByZXMuanNvbigpXHJcblx0XHR9KVxyXG5cdFx0LnRoZW4ocmVzID0+IHtcclxuXHRcdFx0YXJyID0gcmVzLmRhdGEub2ZmZXJzXHJcblx0XHRcdGxldCBodG1sQm94ID0gJydcclxuXHRcdFx0YXJyLmZvckVhY2goZWwgPT4ge1xyXG5cdFx0XHRcdGxldCBuZXdTY29wZSA9IGVsLnNjb3BlLnNwbGl0KCdcXG4nKVxyXG5cdFx0XHRcdGxldCBuZXdDb25kaXRpb25zID0gZWwuY29uZGl0aW9ucy5zcGxpdCgnXFxuJylcclxuXHRcdFx0XHRuZXdTY29wZSA9IG5ld1Njb3BlLm1hcChlbCA9PiBgPGxpIGNsYXNzPVwicHJpY2VsaXN0X19pdGVtLWxpc3QtaXRlbVwiPiR7ZWx9PC9saT5gKVxyXG5cdFx0XHRcdG5ld0NvbmRpdGlvbnMgPSBuZXdDb25kaXRpb25zLm1hcChlbCA9PiBgPGxpIGNsYXNzPVwicHJpY2VsaXN0X19pdGVtLWxpc3QtaXRlbVwiPiR7ZWx9PC9saT5gKVxyXG5cdFx0XHRcdGxldCBodG1sRWwgPSBgPGRpdiBjbGFzcz1cInByaWNlbGlzdF9faXRlbS1ib2R5XCI+XHJcblx0XHRcdFx0PGgzIGNsYXNzPVwicHJpY2VsaXN0X19pdGVtLXRpdGxlXCI+JHtlbC5uYW1lfTwvaDM+XHJcblx0XHRcdFx0PHAgY2xhc3M9XCJwcmljZWxpc3RfX2l0ZW0tcHJpY2VcIj4ke2VsLnByaWNlfTwvcD5cclxuXHRcdFx0XHQ8cCBjbGFzcz1cInByaWNlbGlzdF9faXRlbS1zY29wZVwiPlpha3JlczwvcD5cclxuXHRcdFx0XHQ8dWwgY2xhc3M9XCJwcmljZWxpc3RfX2l0ZW0tbGlzdFwiPiR7bmV3U2NvcGUuam9pbigpLnJlcGxhY2VBbGwoJywnLCAnJyl9PC91bD4gXHJcblx0XHRcdFx0PHAgY2xhc3M9XCJwcmljZWxpc3RfX2l0ZW0tY29uZGl0aW9uc1wiPldhcnVua2k8L3A+XHJcblx0XHRcdFx0XHQ8dWwgY2xhc3M9XCJwcmljZWxpc3RfX2l0ZW0tbGlzdFwiPiR7bmV3Q29uZGl0aW9ucy5qb2luKCkucmVwbGFjZUFsbCgnLCcsICcnKX08L3VsPlxyXG5cdFx0XHRcdDwvZGl2PmBcclxuXHRcdFx0XHRodG1sQm94ICs9IGh0bWxFbFxyXG5cdFx0XHR9KVxyXG5cdFx0XHRsZXQgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByaWNlbGlzdF9fbGlzdCcpXHJcblx0XHRcdGNvbnRhaW5lci5pbm5lckhUTUwgPSBodG1sQm94XHJcblx0XHR9KVxyXG59XHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcmljZWxpc3RdJykpIHtcclxuXHRnZXRPZmZlcnMoKVxyXG59XHJcblxyXG4vL0NPTlRBQ1RcclxuXHJcbmNvbnN0IHNob3dFcnJvciA9IChpbnB1dCwgbXNnKSA9PntcclxuXHJcbiAgY29uc3QgZm9ybUJveCA9IGlucHV0LnBhcmVudEVsZW1lbnQ7XHJcbiAgY29uc3QgZXJyb3JNc2cgPSBmb3JtQm94LnF1ZXJ5U2VsZWN0b3IoJy5lcnJvci10ZXh0JylcclxuXHJcbiAgZm9ybUJveC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpXHJcbiAgZXJyb3JNc2cudGV4dENvbnRlbnQgPSBtc2dcclxuXHJcbn1cclxuXHJcbmNvbnN0IGNsZWFyRXJyb3IgPSBpbnB1dCA9PntcclxuXHJcbiAgY29uc3QgZm9ybUJveCA9IGlucHV0LnBhcmVudEVsZW1lbnQ7XHJcbiAgZm9ybUJveC5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpXHJcblxyXG59XHJcblxyXG5jb25zdCBjaGVja0Zvcm0gPSBpbnB1dCA9PntcclxuXHJcbiAgaW5wdXQuZm9yRWFjaChlbCA9PntcclxuICAgIGlmKGVsLnZhbHVlID09PSAnJyl7XHJcbiAgICAgIHNob3dFcnJvcihlbClcclxuICAgIH1lbHNle1xyXG4gICAgICBjbGVhckVycm9yKGVsKVxyXG4gICAgfVxyXG4gIH0pXHJcblxyXG59XHJcblxyXG5jb25zdCBjaGVja0xlbmd0aCA9IChpbnB1dCxtaW4pID0+e1xyXG5cclxuICBpZihpbnB1dC52YWx1ZS5sZW5ndGggPCBtaW4pe1xyXG4gICAgc2hvd0Vycm9yKGlucHV0LCdQb2RhaiBkxYJ1xbxzemUgaW1pxJknKVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgY2hlY2tFbWFpbCA9IGVtYWlsID0+IHtcclxuIFxyXG4gIGNvbnN0IHJlICA9ICAvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcXSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC9cclxuXHJcbiAgaWYocmUudGVzdChlbWFpbC52YWx1ZSkpe1xyXG4gICAgY2xlYXJFcnJvcihlbWFpbClcclxuICB9ZWxzZXtcclxuICAgIHNob3dFcnJvcihlbWFpbCwnRS1tYWlsIGplc3QgbmllcG9wcmF3bnknKVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgY2hlY2tFcnJvcnMgPSAoKSA9PiB7XHJcblxyXG4gIGNvbnN0IGFsbElucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb250YWN0X19ib3gnKTtcclxuICBsZXQgZXJyb3JDb3VudCA9IDA7XHJcblxyXG4gIGFsbElucHV0cy5mb3JFYWNoKGVsID0+IHtcclxuICAgIGlmKGVsLmNsYXNzTGlzdC5jb250YWlucygnZXJyb3InKSl7XHJcbiAgICAgIGVycm9yQ291bnQrKztcclxuICAgIH1cclxuICB9KVxyXG5cclxufVxyXG5cclxuaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihbJy5jb250YWN0X19mb3JtJ10pKXtcclxuc2VuZEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT57XHJcbiAgXHJcbiAgICBcclxuICAgIGUucHJldmVudERlZmF1bHQoKVxyXG4gICAgY2hlY2tGb3JtKFt1c2VybmFtZSxlbWFpbF0pXHJcbiAgICBjaGVja0xlbmd0aCh1c2VybmFtZSwzKVxyXG4gICAgY2hlY2tFbWFpbChlbWFpbClcclxuICAgIGNoZWNrRXJyb3JzKClcclxuXHJcbiAgfSlcclxufVxyXG5cclxuXHJcbiAgXHJcblxyXG5cclxuXHJcblxyXG4vL01BUFxyXG5cclxuYXN5bmMgZnVuY3Rpb24gaW5pdE1hcCgpIHtcclxuXHRjb25zdCBteUxhdExuZyA9IHsgXHJcblx0XHRsYXQ6IDUwLjI0Mjk3ODQ5NjU3NDgxNCxcclxuXHRcdGxuZzogMTguODQyNDc5NzkyNTk1MTU3LFxyXG5cdH1cclxuXHJcblx0bWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJyksIHtcclxuXHRcdGNlbnRlcjogbXlMYXRMbmcsXHJcblx0XHR6b29tOiAxNSxcclxuXHRcdHpvb21Db250cm9sOiB0cnVlLFxyXG5cdFx0bWFwVHlwZUNvbnRyb2w6IHRydWUsXHJcblx0XHRzY2FsZUNvbnRyb2w6IHRydWUsXHJcblx0XHRzdHJlZXRWaWV3Q29udHJvbDogdHJ1ZSxcclxuXHRcdHJvdGF0ZUNvbnRyb2w6IHRydWUsXHJcblx0XHRmdWxsc2NyZWVuQ29udHJvbDogdHJ1ZSxcclxuXHR9KVxyXG5cclxuXHRjb25zdCBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcclxuXHRcdHBvc2l0aW9uOiBteUxhdExuZyxcclxuXHRcdG1hcCxcclxuXHRcdGFuaW1hdGlvbjogZ29vZ2xlLm1hcHMuQW5pbWF0aW9uLkRST1AsXHJcblx0XHR0aXRsZTogJ0FsbFRheCcsXHJcblx0fSlcclxuXHJcblx0bWFya2VyLmFkZExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdGluZm93aW5kb3cub3BlbihtYXAsIG1hcmtlcilcclxuXHR9KVxyXG5cdGNvbnN0IGNvbnRlbnRTdHJpbmcgPVxyXG5cdFx0JzxkaXYgaWQ9XCJjb250ZW50XCI+JyArXHJcblx0XHQnPGRpdiBpZD1cInNpdGVOb3RpY2VcIj4nICtcclxuXHRcdCc8L2Rpdj4nICtcclxuXHRcdCc8aDIgaWQ9XCJmaXJzdEhlYWRpbmdcIiBjbGFzcz1cImZpcnN0SGVhZGluZ1wiPkFsbHRheDwvaDI+JyArXHJcblx0XHQnPGRpdiBpZD1cImJvZHlDb250ZW50XCI+JyArXHJcblx0XHQnPHA+dWwuIEvFgm9kbmlja2EgOTcvMzAxPC9wPicgK1xyXG5cdFx0JzxwPjQxLTcwNiBSdWRhIMWabMSFc2thPGJyPlBvbHNrYTwvcD4nICtcclxuXHRcdCc8YSBocmVmPWh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vbWFwcy9wbGFjZS9CaXVybytSYWNodW5rb3dlK0FsbHRheC9ANTAuMjQyNjU0MSwxOC44NDI2OTY3LDE4LjEyei9kYXRhPSE0bTUhM200ITFzMHgwOjB4M2RiZDkyYTcxOThiN2FjZSE4bTIhM2Q1MC4yNDI2MjE3ITRkMTguODQyNzgwMj5ab2JhY3ogdyBNYXBhY2ggR29vZ2xlPC9hPiAnICtcclxuXHRcdCc8L2Rpdj4nICtcclxuXHRcdCc8L2Rpdj4nXHJcblx0Y29uc3QgaW5mb3dpbmRvdyA9IG5ldyBnb29nbGUubWFwcy5JbmZvV2luZG93KHtcclxuXHRcdGNvbnRlbnQ6IGNvbnRlbnRTdHJpbmcsXHJcblx0fSlcclxufVxyXG5cclxuXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb250YWN0XScpKXtcclxuXHRjb25zdCBmb290ZXJDb250YWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvb3Rlcl9fY29udGFjdCcpXHJcblx0Zm9vdGVyQ29udGFjdC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbn0iXX0=
